import{j as b,r as i,a as x,R as v,b as N}from"./vendor.bcd178fb.js";const k=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}};k();var w=(a,t)=>{switch(t.type){case"ADD":return[...a,{name:t.payload.name,amount:t.payload.amount,_id:t.payload._id,income:t.payload.income}];case"RETRIEVE":return a=t.payload;case"DELETE":return a.filter(s=>s._id!==t.payload);case"UPDATE":const o=a.map(s=>s._id).indexOf(t.payload._id),r=a.slice(0,o),n=a.slice(o+1,a.length);return[...r,{name:t.payload.name,amount:t.payload.amount,_id:t.payload._id,income:t.payload.income},...n];default:return a}};const e=b.exports.jsx,c=b.exports.jsxs,g={transactions:[]},f=i.exports.createContext(g),T=({children:a})=>{const[t,o]=i.exports.useReducer(w,g.transactions),r=l=>{o({type:"RETRIEVE",payload:l})},n=(l,u,m,p)=>{o({type:"ADD",payload:{name:l,amount:u,_id:m,income:p}})},s=l=>{o({type:"DELETE",payload:l})},d=(l,u,m,p)=>{o({type:"UPDATE",payload:{name:l,amount:u,_id:m,income:p}})};return e(f.Provider,{value:{state:t,addTransaction:n,retrieveTransactions:r,deleteTransactionFromState:s,updateTransactionState:d},children:a})},E=()=>{const{addTransaction:a}=i.exports.useContext(f),[t,o]=i.exports.useState(""),[r,n]=i.exports.useState("");let s=!0;t&&r&&(s=!1);const d=l=>{x.post("https://navin-budget-tracker.herokuapp.com/new",{name:t,amount:r,income:l}).then(u=>{a(t,r,u.data,l),n(""),o("")})};return c("div",{className:"flex justify-around items-center",style:{height:"20%"},children:[c("div",{className:"w-9/12 flex",children:[e("input",{className:"w-3/6 p-2 m-2 bg-gray-300 placeholder-black placeholder-opacity-40 font-semibold rounded-lg",type:"text",value:t,placeholder:"Transaction Name",onChange:l=>o(l.target.value)}),e("input",{className:"w-3/6 p-2 m-2 bg-gray-300 placeholder-black placeholder-opacity-40 font-semibold rounded-lg",type:"number",value:r,placeholder:"Transaction Amount",onChange:l=>n(l.target.value)})]}),c("div",{className:"flex flex-col text-sm items-center justify-center",children:[e("button",{className:"w-fit h-fit p-1 border-black border-2 rounded-lg  hover:bg-green-300 hover:border-2 transition ease-in-out duration-150 hover:scale-110",onClick:()=>{d(!0)},disabled:s,children:"Add Income"}),e("button",{className:"w-fit h-fit p-1 border-black border-2 rounded-lg  hover:bg-red-300 hover:border-2 transition ease-in-out duration-150 hover:scale-110",onClick:()=>{d(!1)},disabled:s,children:"Add Expense"})]})]})},j=()=>e("div",{className:" w-full flex justify-center items-center font-bold text-2xl",style:{height:"10%"},children:"Budget Tracker"}),C=({item:a})=>{const{deleteTransactionFromState:t}=i.exports.useContext(f),o=r=>{x.delete(`http://localhost:3001/delete/${r._id}`),t(r._id),console.log(r._id)};return e("button",{onClick:()=>o(a),children:"DELETE"})},A=({setShowModal:a,item:t,setHover:o})=>{const[r,n]=i.exports.useState(t.name),[s,d]=i.exports.useState(t.amount),{updateTransactionState:l}=i.exports.useContext(f);let u;r&&s?u=!1:u=!0;let m;t.income?m="bg-green-400":m="bg-red-400";const p=h=>{x.put(`http://localhost:3001/update/${h._id}`,{name:r,amount:s}),a(!1),l(r,s,h._id,h.income)};return c("div",{className:`absolute inset-y-36 inset-x-80 rounded-lg ${m} flex flex-col justify-center items-center`,children:[e("div",{className:"",style:{height:"20%"},children:e("h1",{className:"text-4xl font-semibold",children:"Update Transaction"})}),c("div",{className:" flex flex-col items-align justify-center",style:{height:"40%"},children:[c("div",{className:" flex justify-around",children:[e("input",{type:"text",value:r,className:"rounded p-1 m-2",placeholder:"Updated Name",onChange:h=>n(h.target.value)}),e("input",{type:"number",value:s,className:"rounded p-1 m-2",placeholder:"Updated Amount",onChange:h=>d(h.target.value)})]}),c("div",{className:"flex justify-around",children:[e("button",{className:"rounded p-1 m-2 border-2 border-black hover:text-white hover:scale-110 transition duration-100",disabled:u,onClick:()=>{p(t),o(!0)},children:"Update"}),e("button",{className:"rounded p-1 m-2 border-2 border-black hover:text-white hover:scale-110 transition duration-100",onClick:()=>{a(!1),o(!0)},children:"Close"})]})]})]})},S=({item:a,setHover:t})=>{const[o,r]=i.exports.useState(!1);return c("div",{children:[e("button",{onClick:()=>{r(!0),t(!1)},children:"UPDATE"}),o&&e(A,{item:a,setShowModal:r,setHover:t})]})},y=({renderType:a})=>{const[t,o]=i.exports.useState(!0);let r;return t?r="hover:scale-105 hover:bg-gray-400 transition duration-75":r="",e("div",{className:"w-full flex flex-col items-center overflow-auto",style:{height:"80%"},children:a==null?void 0:a.map(n=>c("div",{className:`flex justify-between w-10/12 rounded ${r}`,children:[n.income===!0?e("div",{className:"bg-green-500",style:{width:"1%"}}):e("div",{className:"bg-red-500",style:{width:"1%"}}),e("div",{className:"flex justify-center w-3/12 ",children:e("h1",{children:n.name})}),n.income?e("div",{className:"flex justify-center w-3/12 ",children:e("h1",{children:n.amount})}):e("div",{className:"flex justify-center w-3/12 ",children:c("h1",{children:["-",n.amount]})}),e("div",{className:"flex justify-center w-3/12 ",children:e(C,{item:n})}),e("div",{className:"flex justify-center w-3/12 ",children:e(S,{item:n,setHover:o})})]},n._id))})},R=()=>{const{state:a,retrieveTransactions:t}=i.exports.useContext(f),[o,r]=i.exports.useState("all"),n=a,s=a.filter(l=>l.income),d=a.filter(l=>!l.income);return i.exports.useEffect(()=>{x.get("https://navin-budget-tracker.herokuapp.com/retrieve").then(l=>{t(l.data)})},[]),c("div",{className:"flex flex-col items-center justify-center w-full ",style:{height:"70%"},children:[c("div",{className:"flex gap-x-6",style:{height:"20%"},children:[e("button",{onClick:()=>{r("all")},className:"my-5 font-medium text-lg link link-underline link-underline-black",children:"Recent Transactions"}),e("button",{onClick:()=>{r("incomes")},className:"my-5 font-medium text-lg link link-underline link-underline-black",children:"Recent Income"}),e("button",{onClick:()=>{r("expenses")},className:"my-5 font-medium text-lg link link-underline link-underline-black",children:"Recent Expenses"})]}),o==="all"&&e(y,{renderType:n}),o==="incomes"&&e(y,{renderType:s}),o==="expenses"&&e(y,{renderType:d})]})};function _(){return e("div",{className:"flex justify-center items-center h-screen bg-slate-300",children:c("div",{className:"flex flex-col items-center w-5/12 border-black border-2 bg-slate-100",style:{height:"80%"},children:[e(j,{}),c(T,{children:[e(E,{}),e(R,{})]})]})})}v.render(e(N.StrictMode,{children:e(_,{})}),document.getElementById("root"));
